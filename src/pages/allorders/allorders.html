<!--
  Generated template for the AllordersPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

    <ion-navbar>
        <ion-title>全部订单</ion-title>
    </ion-navbar>

</ion-header>


<ion-content padding>

    <div class="tabs">
        <ul>
            <li [ngClass]="{'eft':order_status==0}" (click)="status(0)">未支付</li>
            <li [ngClass]="{'eft':order_status==1}" (click)="status(1)">待发货</li>
            <li [ngClass]="{'eft':order_status==2}" (click)="status(2)">已发货</li>
            <li [ngClass]="{'eft':order_status==3}" (click)="status(3)">已完成</li>
        </ul>
        <div class="tabspage">

			<div class="shops" *ngFor="let item of order_list">

                <p (click)="goShop(item.shopid)">
                    <span>
					<img style="width: 3rem;" src="{{imgUrl}}{{item.shop.head_path}}" alt="">{{item.shop.shop_name}}</span>
							<span>
					<img src="assets/imgs/images/right.png" alt="" srcset="">
				  </span>
                </p>
                <div class="datas" *ngFor="let citem of item.dtailOrderList;let i = index;">
                    <div (click)="goodsdetail(citem)" style="margin-top: 1rem;">
                        <img style="width: 25%;height: 25%;" src="{{imgUrl}}{{citem.goods.cover}}" alt="">
                        <div style="width: 90%;">
                            <h1>{{citem.goods.goods_name}}</h1>
                            <p *ngIf="citem.specifications">{{citem.specifications.specifications_name}}</p>
                            <p>
                                <span class="money">¥{{citem.unit_price}}</span>
                                <span style="font-size: 1.5rem">X{{citem.good_num}}</span>
                            </p>

                        </div>
                    </div>
                    <div class="tag">
                        <span *ngIf="item.order_status >= 4">交易成功</span>
						<button *ngIf="item.order_status == 4" (click)='gouout()'>申请退款</button>
						<button *ngIf="item.order_status == 0" (click)="order(item,citem)">立即付款</button>
						<button *ngIf="item.order_status == 6" (click)="orderPaywk(item,citem)">支付尾款</button>
						<button *ngIf="item.order_status == 0" (click)="cancelOrder(item)">取消订单</button>
						<button *ngIf="item.order_status == 2" (click)='shouhuo(item.order_id)'>确认收货</button>

						<button *ngIf="item.order_status >= 2" (click)='shopoder()'>查看物流</button>
						<!-- <button *ngIf="item.order_status == 2">延长收货</button> -->
						<button *ngIf="item.order_status == 3" (click)='goevaluate(item,citem)'>评价</button>
						<button (click)='lookevaluate(item,citem)'>订单详情</button>
                    </div>
                </div>
            </div>

           
        </div>
    </div>
</ion-content>